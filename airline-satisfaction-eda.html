<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Adam Bushman">
<meta name="author" content="Zachary Manning">

<title>Airline Satisfaction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="airline-satisfaction-eda_files/libs/clipboard/clipboard.min.js"></script>
<script src="airline-satisfaction-eda_files/libs/quarto-html/quarto.js"></script>
<script src="airline-satisfaction-eda_files/libs/quarto-html/popper.min.js"></script>
<script src="airline-satisfaction-eda_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="airline-satisfaction-eda_files/libs/quarto-html/anchor.min.js"></script>
<link href="airline-satisfaction-eda_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="airline-satisfaction-eda_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="airline-satisfaction-eda_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="airline-satisfaction-eda_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="airline-satisfaction-eda_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Airline Satisfaction</h1>
<p class="subtitle lead">Exploratory Data Analysis</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Adam Bushman </p>
             <p>Zachary Manning </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>Group project for CS 3580 (Data Science Algorithms) of Weber State University.</p>
<p>Chosen dataset: airline customer satisfaction survey results. Data thanks to <a href="https://www.kaggle.com/datasets/teejmahal20/airline-passenger-satisfaction">TJ Klein and accessed via Kaggle</a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://storage.googleapis.com/kaggle-datasets-images/522275/959195/b0e445e8d51cbbb098917a006378d829/dataset-cover.png?t=2020-02-20-16-56-51" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Aircraft</figcaption><p></p>
</figure>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This dataset was chosen because it relates to how well a business is resonating with their customer base. Both Zach and Adam find business problems interesting and challenging.</p>
<p>At first glance it is reasonably complete, sizeable in its number of rows, and poses a wealth of fields to explore.</p>
</section>
<section id="wrangling-the-dataset" class="level1">
<h1>Wrangling the Dataset</h1>
<p>Before tackling our data analysis, we’ll first get our arms around the dataset. We need to understand each field, how tidy and complete they are, and assess what any simple to advanced transformations are needed.</p>
<section id="a-quick-glimpse" class="level2">
<h2 class="anchored" data-anchor-id="a-quick-glimpse">A Quick Glimpse</h2>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(aDataRaw.info())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 103904 entries, 0 to 103903
Data columns (total 25 columns):
 #   Column                             Non-Null Count   Dtype  
---  ------                             --------------   -----  
 0   Unnamed: 0                         103904 non-null  int64  
 1   id                                 103904 non-null  int64  
 2   Gender                             103904 non-null  object 
 3   Customer Type                      103904 non-null  object 
 4   Age                                103904 non-null  int64  
 5   Type of Travel                     103904 non-null  object 
 6   Class                              103904 non-null  object 
 7   Flight Distance                    103904 non-null  int64  
 8   Inflight wifi service              103904 non-null  int64  
 9   Departure/Arrival time convenient  103904 non-null  int64  
 10  Ease of Online booking             103904 non-null  int64  
 11  Gate location                      103904 non-null  int64  
 12  Food and drink                     103904 non-null  int64  
 13  Online boarding                    103904 non-null  int64  
 14  Seat comfort                       103904 non-null  int64  
 15  Inflight entertainment             103904 non-null  int64  
 16  On-board service                   103904 non-null  int64  
 17  Leg room service                   103904 non-null  int64  
 18  Baggage handling                   103904 non-null  int64  
 19  Checkin service                    103904 non-null  int64  
 20  Inflight service                   103904 non-null  int64  
 21  Cleanliness                        103904 non-null  int64  
 22  Departure Delay in Minutes         103904 non-null  int64  
 23  Arrival Delay in Minutes           103594 non-null  float64
 24  satisfaction                       103904 non-null  object 
dtypes: float64(1), int64(19), object(5)
memory usage: 19.8+ MB
None</code></pre>
</div>
</div>
<p>The dataset has nearly 104,000 observations and about 23 variables interesting to our study. <code>Unnamed: 0</code> and <code>id</code> are unique identifiers that don’t determine airline satisfaction.</p>
<p>It appears that every feature is complete except for <code>Arrival Delay in Minutes</code> which has ~300 null values, which is pretty inconsiquential.</p>
</section>
<section id="understanding-the-fields" class="level2">
<h2 class="anchored" data-anchor-id="understanding-the-fields">Understanding the Fields</h2>
<p>There are five “object” or “string” data type columns. Let’s take a look at each of these and range of values we can expect:</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>vars1 <span class="op">=</span> ([</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Gender'</span>, </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Customer Type'</span>, </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Type of Travel'</span>, </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Class'</span>, <span class="st">'satisfaction'</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    ])</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> vars1:</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(v.title() <span class="op">+</span> <span class="st">' -&gt; '</span>, aDataRaw[v].unique())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Gender -&gt;  ['Male' 'Female']
Customer Type -&gt;  ['Loyal Customer' 'disloyal Customer']
Type Of Travel -&gt;  ['Personal Travel' 'Business travel']
Class -&gt;  ['Eco Plus' 'Business' 'Eco']
Satisfaction -&gt;  ['neutral or dissatisfied' 'satisfied']</code></pre>
</div>
</div>
<p>A handful of these would be good to cast as a categorical variable with appropriate levels.</p>
<p>There are also a handful of continuous variables that describe the environment context for the customer’s flight. Let’s look at a small sample:</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>vars2 <span class="op">=</span> ([</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Age'</span>, </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Flight Distance'</span>, </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Departure Delay in Minutes'</span>, </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Arrival Delay in Minutes'</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    ])</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> vars2:</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(v.title() <span class="op">+</span> <span class="st">' -&gt; '</span>, <span class="bu">list</span>(aDataRaw[v].sample(<span class="dv">5</span>)), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Age -&gt;  [54, 19, 40, 24, 59] 

Flight Distance -&gt;  [731, 414, 931, 792, 2480] 

Departure Delay In Minutes -&gt;  [13, 0, 0, 0, 0] 

Arrival Delay In Minutes -&gt;  [5.0, 0.0, 0.0, 0.0, 0.0] 
</code></pre>
</div>
</div>
<p>Finally, we have the customer responses from the satisfaction survey across a myriad of categories. Let’s get a sense for each of these:</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>vars3 <span class="op">=</span> (</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    aDataRaw</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    .columns</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    .difference(vars1)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    .difference(vars2)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    .difference([<span class="st">'Unnamed: 0'</span>, <span class="st">'id'</span>])</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> vars3:</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(v.title() <span class="op">+</span> <span class="st">' -&gt; '</span>, <span class="bu">list</span>(aDataRaw[v].sample(<span class="dv">5</span>)), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Baggage Handling -&gt;  [3, 4, 4, 1, 3] 

Checkin Service -&gt;  [3, 1, 5, 5, 3] 

Cleanliness -&gt;  [5, 1, 4, 2, 5] 

Departure/Arrival Time Convenient -&gt;  [0, 3, 5, 3, 5] 

Ease Of Online Booking -&gt;  [2, 3, 3, 2, 2] 

Food And Drink -&gt;  [2, 2, 1, 5, 4] 

Gate Location -&gt;  [3, 5, 5, 3, 5] 

Inflight Entertainment -&gt;  [4, 5, 4, 5, 2] 

Inflight Service -&gt;  [3, 5, 5, 3, 2] 

Inflight Wifi Service -&gt;  [2, 4, 2, 3, 1] 

Leg Room Service -&gt;  [5, 2, 5, 4, 4] 

On-Board Service -&gt;  [5, 4, 4, 1, 3] 

Online Boarding -&gt;  [4, 3, 5, 4, 1] 

Seat Comfort -&gt;  [4, 2, 4, 4, 3] 
</code></pre>
</div>
</div>
<p>From the Kaggle documentation, a score of <code>1</code> corresponds to most dissatisfied with the category while <code>5</code> is most satisfied. <code>0</code> is used for non applicable categories.</p>
<p>We were curious how frequent categories are not applicable in this dataset. We ran some code to assess that frequency:</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>(aDataRaw</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    .loc[:,vars3]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    .melt(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        value_vars <span class="op">=</span> vars3, </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        var_name <span class="op">=</span> <span class="st">'category'</span>, </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        value_name <span class="op">=</span> <span class="st">'frequency'</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">'frequency == 0'</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    .groupby(<span class="st">'category'</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    .count()</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    .assign(share <span class="op">=</span> <span class="kw">lambda</span> dfx: dfx[<span class="st">'frequency'</span>] <span class="op">/</span> <span class="bu">len</span>(aDataRaw))</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    [[<span class="st">'frequency'</span>, <span class="st">'share'</span>]]</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">'share'</span>, ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>category</th>
      <th>frequency</th>
      <th>share</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Departure/Arrival time convenient</td>
      <td>5300</td>
      <td>0.051009</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Ease of Online booking</td>
      <td>4487</td>
      <td>0.043184</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Inflight wifi service</td>
      <td>3103</td>
      <td>0.029864</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Online boarding</td>
      <td>2428</td>
      <td>0.023368</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Leg room service</td>
      <td>472</td>
      <td>0.004543</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Food and drink</td>
      <td>107</td>
      <td>0.001030</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Inflight entertainment</td>
      <td>14</td>
      <td>0.000135</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Cleanliness</td>
      <td>12</td>
      <td>0.000115</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Inflight service</td>
      <td>3</td>
      <td>0.000029</td>
    </tr>
    <tr>
      <th>9</th>
      <td>On-board service</td>
      <td>3</td>
      <td>0.000029</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Checkin service</td>
      <td>1</td>
      <td>0.000010</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Gate location</td>
      <td>1</td>
      <td>0.000010</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Seat comfort</td>
      <td>1</td>
      <td>0.000010</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>For our purposes, we want to explore factors that determine airfare satisfaction. Therefore, we decided to filter out the observations in which such factors presented a zero.</p>
</section>
<section id="cleaning-up-the-dataset" class="level2">
<h2 class="anchored" data-anchor-id="cleaning-up-the-dataset">Cleaning Up the Dataset</h2>
<p>Having got a lay of the land for what needs to happen with our dataset, let’s set about cleaning it up for easier and more effective use going forward.</p>
<p>We’ll first start by setting up some tools to use in our wrangling pipeline, including a column cleanup function and a query string with which we can filter out the aforementioned zeros from the survey questions.</p>
<p>Next, we’ll introduce our cleanup pipeline and take a look at the final result:</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>aDataClean <span class="op">=</span> (</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    aDataRaw</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter out zeros</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    .query(</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        q_text</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Drop the na's</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    .dropna()</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Drop the irrelevant columns</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    .drop(columns <span class="op">=</span> ([</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Unnamed: 0'</span>, </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">'id'</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    ]))</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Clean the column names</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    .pipe(cleanCols)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Cast fiels as categorical</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    .assign(</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>        satisfaction <span class="op">=</span> <span class="kw">lambda</span> dfx: (</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>            pd.Categorical(</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>                values <span class="op">=</span> dfx[<span class="st">'satisfaction'</span>], </span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>                categories <span class="op">=</span> [<span class="st">'satisfied'</span>, <span class="st">'neutral or dissatisfied'</span>], </span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>                ordered <span class="op">=</span> <span class="va">True</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>        ), </span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>        customer_type <span class="op">=</span> <span class="kw">lambda</span> dfx: (</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>            pd.Categorical(</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>                values <span class="op">=</span> dfx[<span class="st">'customer_type'</span>], </span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>                categories <span class="op">=</span> [<span class="st">'Loyal Customer'</span>, <span class="st">'disloyal Customer'</span>], </span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>                ordered <span class="op">=</span> <span class="va">True</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>        ), </span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>        seat_class <span class="op">=</span> <span class="kw">lambda</span> dfx: (</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>            pd.Categorical(</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>                values <span class="op">=</span> dfx[<span class="st">'seat_class'</span>], </span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>                categories <span class="op">=</span> [<span class="st">'Business'</span>, <span class="st">'Eco Plus'</span>, <span class="st">'Eco'</span>], </span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>                ordered <span class="op">=</span> <span class="va">True</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Cleaned up data frame</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>aDataClean.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Int64Index: 103594 entries, 0 to 103903
Data columns (total 23 columns):
 #   Column                             Non-Null Count   Dtype   
---  ------                             --------------   -----   
 0   gender                             103594 non-null  object  
 1   customer_type                      103594 non-null  category
 2   age                                103594 non-null  int64   
 3   type_of_travel                     103594 non-null  object  
 4   seat_class                         103594 non-null  category
 5   flight_distance                    103594 non-null  int64   
 6   inflight_wifi_service              103594 non-null  int64   
 7   departure_arrival_time_convenient  103594 non-null  int64   
 8   ease_of_online_booking             103594 non-null  int64   
 9   gate_location                      103594 non-null  int64   
 10  food_and_drink                     103594 non-null  int64   
 11  online_boarding                    103594 non-null  int64   
 12  seat_comfort                       103594 non-null  int64   
 13  inflight_entertainment             103594 non-null  int64   
 14  onboard_service                    103594 non-null  int64   
 15  leg_room_service                   103594 non-null  int64   
 16  baggage_handling                   103594 non-null  int64   
 17  checkin_service                    103594 non-null  int64   
 18  inflight_service                   103594 non-null  int64   
 19  cleanliness                        103594 non-null  int64   
 20  departure_delay_in_minutes         103594 non-null  int64   
 21  arrival_delay_in_minutes           103594 non-null  float64 
 22  satisfaction                       103594 non-null  category
dtypes: category(3), float64(1), int64(17), object(2)
memory usage: 16.9+ MB</code></pre>
</div>
</div>
<p>We now have a dataset that’s been supercharged with record completeness, feature clarity, and appropriate data types. We’re ready to begin our exploratory analysis.</p>
</section>
</section>
<section id="analyzing-the-dataset" class="level1">
<h1>Analyzing the Dataset</h1>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    pn.ggplot(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>        (</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>            aDataClean</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>            .assign(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>                ease_of_online_booking <span class="op">=</span> <span class="kw">lambda</span> dfx: (</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>                    dfx[<span class="st">'ease_of_online_booking'</span>].astype(<span class="bu">str</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>        ), </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>        pn.aes(<span class="st">'ease_of_online_booking'</span>, <span class="st">'age'</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">+</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>        pn.geom_violin() <span class="op">+</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>        pn.geom_point(alpha <span class="op">=</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>        pn.labs(</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>            title <span class="op">=</span> <span class="st">'Test title'</span>, </span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>            y <span class="op">=</span> <span class="st">'Customer Age'</span>, </span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>            x <span class="op">=</span> <span class="st">'Ease of Online Booking'</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="airline-satisfaction-eda_files/figure-html/cell-10-output-1.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>&lt;ggplot: (84409444638)&gt;</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>